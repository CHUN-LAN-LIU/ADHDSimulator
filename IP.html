<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¤çŸ¥ä¹‹çª— | ADHDä»»åŠ¡å¯åŠ¨å›°éš¾æ¨¡æ‹Ÿä½“éªŒ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/screens.css">
    <link rel="stylesheet" href="styles/tasks.css">
    <style>
        :root {
            /* ç»Ÿä¸€ä¸ºSGF.htmlçš„é¢œè‰²ä¸»é¢˜ */
            --primary: #45c77e;
            --primary-light: #f4806c;
            --secondary: #008000;
            --accent: #45c77e;  /* ã€è¿”å›é¦–é¡µæŒ‰é’®ã€‘é»˜è®¤èƒŒæ™¯è‰² */
            --accent-light: #ff9a76;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --transition: all 0.3s ease;
        }

        * {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background-color: #f5f7fb;
            color: var(--dark);
            line-height: 1.6;
            overflow: hidden;
            height: 100vh;
        }

        /* é€šç”¨æ¨¡æ€æ¡†æ ·å¼ - ä¸SGFä¸€è‡´ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 20000;
            animation: modal-overlay-fade 0.4s ease-out;
        }

        @keyframes modal-overlay-fade {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .modal {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 700px;
            max-height: 85vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
            animation: modal-appear 0.4s ease-out;
        }

        @keyframes modal-appear {
            0% {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }

            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-header {
            margin-bottom: 20px;
            text-align: center;
        }

        .modal-title {
            color: var(--primary);
            font-size: 28px;
            margin: 0 0 10px 0;
        }

        .modal-subtitle {
            color: var(--gray);
            font-size: 16px;
            margin: 0;
        }

        .hidden {
            display: none !important;
        }

        /* å¯¼èˆªæ  - ç»Ÿä¸€SGFé£æ ¼ */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
            z-index: 10000;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            color: var(--primary);
            font-size: 28px;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .logo-subtitle {
            font-size: 14px;
            color: var(--gray);
            margin-top: -5px;
        }

        /* æŒ‰é’®ç»Ÿä¸€é£æ ¼ */
        .btn {  /* ã€è¿”å›é¦–é¡µæŒ‰é’®ã€‘ä½¿ç”¨æ­¤åŸºç¡€æ ·å¼ */
            background-color: var(--accent);  /* ã€è¿”å›é¦–é¡µæŒ‰é’®ã€‘é»˜è®¤èƒŒæ™¯è‰²: #45c77e (ç»¿è‰²) */
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 16px;
        }

            .btn:hover {  /* ã€è¿”å›é¦–é¡µæŒ‰é’®ã€‘æ‚¬æµ®çŠ¶æ€ */
                background-color: #24cb49;  /* ã€è¿”å›é¦–é¡µæŒ‰é’®ã€‘æ‚¬æµ®æ—¶èƒŒæ™¯è‰²: é»„ç»¿è‰² */
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(255, 99, 71, 0.3);
            }

        .btn-large {
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 35px;
        }

        /* ç‰¹æ®ŠæŒ‰é’®æ ·å¼ - ä¸SGFä¸€è‡´ */
        .btn-retry {
            background: linear-gradient(45deg, #008000, #008000);
        }

            .btn-retry:hover {
                background: linear-gradient(45deg, #006400, #006400);
            }

        .btn-science {  /* ã€æŸ¥çœ‹ç§‘æ™®æŒ‰é’®ã€‘ä¸“ç”¨æ ·å¼ */
            background: linear-gradient(45deg, #45c77e, #45c77e);  /* ã€æŸ¥çœ‹ç§‘æ™®æŒ‰é’®ã€‘é»˜è®¤èƒŒæ™¯è‰²: #45c77e (ç»¿è‰²æ¸å˜) */
        }

            .btn-science:hover {  /* ã€æŸ¥çœ‹ç§‘æ™®æŒ‰é’®ã€‘æ‚¬æµ®çŠ¶æ€ */
                background: linear-gradient(45deg, #39d65b, #24cb49);  /* ã€æŸ¥çœ‹ç§‘æ™®æŒ‰é’®ã€‘æ‚¬æµ®æ—¶èƒŒæ™¯è‰²: #ADFF2F (é»„ç»¿è‰²æ¸å˜) */
            }


        /* å¼€å§‹ç•Œé¢æ¨¡æ€æ¡† */
        #startScreen .modal {
            max-width: 600px;
            text-align: center;
            background: white;
        }

        .start-screen-title {
            color: #45c77e;
            font-size: 2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .start-screen-subtitle {
            font-size: 16px;
            margin-bottom: 20px;
            color: var(--gray);
            font-weight: 400;
        }

        /* æˆåŠŸç•Œé¢æ¨¡æ€æ¡† */
        #successScreen .modal {
            max-width: 800px;
            text-align: center;
        }

        .success-title {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .success-subtitle {
            color: var(--gray);
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        /* ç»Ÿè®¡å®¹å™¨ */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        @media (min-width: 768px) {
            .stats-container {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .stat-box {
            background: var(--light);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--light-gray);
            transition: var(--transition);
        }

            .stat-box:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        /* ç¥ç»è®¤çŸ¥åæ€ */
        .neuro-reflection {
            background: #eef2f7;
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
            border-left: 5px solid var(--accent);
        }

        .reflection-title {
            color: var(--secondary);
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .reflection-text {
            font-size: 16px;
            line-height: 1.6;
            color: #444;
            margin-bottom: 0;
        }

        /* æŒ‰é’®å®¹å™¨ */
        .button-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* è¿‡æ¸¡ç•Œé¢æ¨¡æ€æ¡† */
        #transitionScreen .modal {
            max-width: 600px;
            text-align: center;
            background: white;
        }

        .transition-title {
            color: #45c77e;
            font-size: 2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .transition-subtitle {
            font-size: 16px;
            margin-bottom: 20px;
            color: var(--gray);
            font-weight: 400;
        }

        /* ä¸»æ¸¸æˆåŒºåŸŸ */
        .main-game-area {
            position: relative;
            width: 100%;
            height: calc(100vh - 70px); /* å‡å»å¯¼èˆªæ é«˜åº¦ */
            margin-top: 70px; /* å¯¼èˆªæ é«˜åº¦ */
            overflow: hidden;
            background: #f5fbf5;
        }

        /* æ ¸å¿ƒå·¥ä½œåŒº */
        .gravity-well {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            border-radius: 50%;
            z-index: 10;
        }

        /* ä»»åŠ¡æŒ‰é’® - æ”¹ä¸ºåœ†å½¢ */
        .task-button-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 59px;
            height: 59px;
            border-radius: 50%;
            z-index: 5;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .task-btn {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: #333; /* çº¯è‰² */
            color: #fff;
            border: none;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.1s ease, background 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.6), inset 0 0 8px rgba(255, 255, 255, 0.15);
            z-index: 2;
        }

            .task-btn:hover {
                transform: scale(1.05);
            }

            .task-btn::before {
                content: '';
                position: absolute;
                width: 70%;
                height: 70%;
                border-radius: 50%;
                background: radial-gradient( circle at center, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.1) 50%, transparent 70% );
                pointer-events: none;
            }

        .task-btn-text {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 8px;
        }

        .task-btn-title {
            font-size: 14px;
            margin-bottom: 2px;
            color: #fff;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
            white-space: nowrap;
        }

        .task-btn-subtitle {
            font-size: 8px;
            color: #ccc;
            white-space: nowrap;
        }

        /* è¾¹ç¼˜å¨±ä¹åŒº/å¹¿å‘ŠåŒº */
        .entertainment-zones {
            position: absolute;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            overflow: hidden;
            z-index: 5;
            transition: var(--transition);
        }

            .entertainment-zones:hover {
                transform: scale(1.05);
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            }

        /* èƒ½é‡æ¡ */
        .energy-bar {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 1000px;
            height: 30px;
            background: #eee;
            border-radius: 15px;
            overflow: hidden;
            display: block;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            border: 3px solid #ddd;
        }

        .energy-fill {
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, #4CAF50 0%, #8BC34A 25%, #FFC107 50%, #FF9800 75%, #F44336 100%);
            transition: width 0.05s linear;
            position: relative;
        }

            .energy-fill::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
                animation: shimmer 1.5s infinite;
            }

        .audio-control {
            position: fixed;
            top: 680px;
            left: 40px;
            z-index: 1000;
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 3px 10px rgba(74, 111, 165, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
        }

            .audio-control:hover {
                background: var(--primary-light);
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(74, 111, 165, 0.4);
            }

        /* ========== è°ƒæ•´åçš„è®¡æ—¶å™¨ã€é˜»åŠ›æŒ‡ç¤ºå™¨å’Œå¤±è´¥æ¬¡æ•°æ˜¾ç¤º ========== */
        /* è®¡æ—¶å™¨æ˜¾ç¤º - æ”¾åœ¨å·¦ä¸Šè§’ */
        .timer-display {
            position: absolute;
            top: 270px;
            left: 40px;
            font-size: 16px;
            font-weight: bold;
            color: #333;
            background: rgba(255,255,255,0.9);
            padding: 10px 18px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid var(--light-gray);
        }

        /* é˜»åŠ›æŒ‡ç¤ºå™¨ - æ”¾åœ¨å³ä¸Šè§’ */
        .resistance-indicator {
            position: absolute;
            top: 80px;
            right: 50%;
            font-size: 14px;
            color: #666;
            background: rgba(255,255,255,0.9);
            padding: 10px 18px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
            z-index: 1000;
            text-align: center;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid var(--light-gray);
        }

        /* å¤±è´¥æ¬¡æ•°æ˜¾ç¤º - æ”¾åœ¨å·¦ä¸Šè§’ï¼Œåœ¨è®¡æ—¶å™¨ä¸‹æ–¹ */
        .fail-count-display {
            position: absolute;
            top: 330px;
            left: 40px;
            font-size: 14px;
            color: #F44336;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 18px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(244, 67, 54, 0.2);
            z-index: 1000;
            text-align: center;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid rgba(244, 67, 54, 0.2);
        }

        /* ========== å¹¿å‘Šæ ‡ç­¾ ========== */
        .ad-label {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 8px;
            font-weight: bold;
            z-index: 11;
            box-shadow: 0 3px 10px rgba(255, 99, 71, 0.5);
        }

        .zone-1 .ad-label {
            background: #4caf50;
            box-shadow: 0 3px 10px rgba(33, 150, 243, 0.5);
        }

        .zone-2 .ad-label {
            background: #ff9800;
            box-shadow: 0 3px 10px rgba(233, 30, 99, 0.5);
        }

        .zone-3 .ad-label {
            background: #9c27b0;
            box-shadow: 0 3px 10px rgba(156, 39, 176, 0.5);
        }

        .zone-4 .ad-label {
            background: #f44336;
            box-shadow: 0 3px 10px rgba(244, 67, 54, 0.5);
        }

        .zone-5 .ad-label {
            background: #2196f3;
            box-shadow: 0 3px 10px rgba(33, 150, 243, 0.5);
        }

        .zone-6 .ad-label {
            background: #ff5722;
            box-shadow: 0 3px 10px rgba(255, 87, 34, 0.5);
        }


        /* UIå¡ç‰‡æ•ˆæœ */
        .energy-value, .timer-display, .resistance-indicator, .fail-count-display, .find-button-hint, .distraction-timer, .button-instruction, .audio-hint, .lock-hint, .center-hint {
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--light-gray);
            transition: var(--transition);
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            position: absolute;
            z-index: 1000;
        }

        /* åä»»åŠ¡ç•Œé¢ */
        .ten-tasks-screen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgb(239, 255, 243);
            z-index: 10000;
            display: none;
        }

            .ten-tasks-screen.active {
                display: block;
            }

        /* ========== åä»»åŠ¡åˆ†æ•£å¸ƒå±€ ========== */
        .ten-tasks-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f9fff9 0%, #aaceb0 100%);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            overflow: hidden;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        .ten-tasks-title {
            position: absolute;
            top: 80px; /* è°ƒæ•´ä½ç½®ä¸ºä¸Šæ–¹ç•™å‡ºæ›´å¤šç©ºé—´ */
            left: 50%;
            transform: translateX(-50%);
            font-size: 24px; /* ç¨å¾®å‡å°å­—ä½“å¤§å° */
            font-weight: 700;
            color: var(--dark);
            text-align: center;
            background: white;
            padding: 12px 25px;
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            z-index: 10;
            border: 2px solid rgba(74, 111, 165, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 90%;
        }

        .ten-tasks-instruction {
            position: absolute;
            top: 160px; /* è°ƒæ•´ä½ç½® */
            left: 50%;
            transform: translateX(-50%);
            font-size: 16px; /* å‡å°å­—ä½“å¤§å° */
            color: var(--gray);
            text-align: center;
            background: white;
            padding: 10px 20px;
            border-radius: 8px;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            max-width: 80%;
            line-height: 1.5;
        }

        /* ========== è®¡æ—¶å™¨æ˜¾ç¤º ========== */
        .ten-tasks-timer {
            position: absolute;
            top: 220px; /* è°ƒæ•´ä½ç½® */
            left: 50%;
            transform: translateX(-50%);
            font-size: 16px; /* å‡å°å­—ä½“å¤§å° */
            font-weight: 700;
            color: var(--dark);
            background: white;
            padding: 10px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ten-tasks-hint {
            position: absolute;
            bottom: 20px; /* è°ƒæ•´ä½ç½® */
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px; /* å‡å°å­—ä½“å¤§å° */
            color: #4caf50;
            background: white;
            padding: 12px 25px;
            border-radius: 8px;
            text-align: center;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            max-width: 90%;
            line-height: 1.4;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

            .ten-tasks-hint small {
                font-size: 12px;
                color: #888;
            }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .navbar {
                padding: 0 15px;
                height: 60px;
            }

            .logo-text {
                font-size: 20px;
            }

            .logo-subtitle {
                font-size: 12px;
            }

            .btn {
                padding: 10px 18px;
                font-size: 14px;
            }

            .btn-large {
                padding: 12px 25px;
                font-size: 16px;
            }

            .start-screen-title, .transition-title {
                font-size: 2.2rem;
            }

            .start-screen-subtitle, .transition-subtitle {
                font-size: 1.2rem;
                padding: 10px 20px;
            }

            .success-title {
                font-size: 2rem;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }

            .modal {
                padding: 20px;
            }

            .task-btn {
                width: 150px;
                height: 150px;
            }

            .task-btn-title {
                font-size: 20px;
            }

            .task-btn-subtitle {
                font-size: 14px;
            }

            /* ç§»åŠ¨ç«¯è°ƒæ•´è®¡æ—¶å™¨ã€é˜»åŠ›æŒ‡ç¤ºå™¨å’Œå¤±è´¥æ¬¡æ•°æ˜¾ç¤ºçš„ä½ç½® */
            .timer-display {
                top: 70px;
                left: 15px;
                font-size: 14px;
                padding: 8px 12px;
            }

            .resistance-indicator {
                top: 70px;
                right: 15px;
                font-size: 12px;
                padding: 8px 12px;
            }

            .fail-count-display {
                top: 120px;
                left: 15px;
                font-size: 12px;
                padding: 8px 12px;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  - ç»Ÿä¸€ä¸ºSGFé£æ ¼ -->
    <div class="navbar">
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-brain"></i>
            </div>
            <div>
                <div class="logo-text">è®¤çŸ¥ä¹‹çª—</div>
                <div class="logo-subtitle">ADHDä»»åŠ¡å¯åŠ¨å›°éš¾æ¨¡æ‹Ÿ</div>
            </div>
        </div>
        <a href="index.html" class="btn">
            <i class="fas fa-home"></i> è¿”å›é¦–é¡µ
        </a>
    </div>

    <!-- å¼€å§‹ç•Œé¢æ¨¡æ€æ¡†ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰ -->
    <div id="startScreen" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h1 class="start-screen-title"><i class="fas fa-rocket"></i> ä»»åŠ¡å¯åŠ¨éšœç¢</h1>
                <p class="start-screen-subtitle">æ¨¡æ‹ŸADHDæ‚£è€…çš„ä»»åŠ¡å¯åŠ¨å›°éš¾ä½“éªŒ</p>
            </div>

            <div class="modal-content">
                <div style="background: linear-gradient(135deg, #e8f9f0 0%, #f0fdf4 100%); padding: 14px 16px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #45c77e;">
                    <p style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600; color: #1a4d2e; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-tasks" style="color: #45c77e;"></i>
                        <span>ä»»åŠ¡è¯´æ˜</span>
                    </p>
                    <p style="margin: 0; font-size: 15px; line-height: 1.5; color: #2d5f3f;">
                        <span style="color: #45c77e; font-weight: 700;">ç‚¹å‡»ä¸­å¿ƒå¼€å§‹å·¥ä½œæŒ‰é’®å¹¶ä¿æŒè¶…è¿‡ä¸¤ç§’</span>æ‰èƒ½å¯åŠ¨ä»»åŠ¡
                    </p>
                </div>

                <div style="background: #fff8e6; padding: 12px; margin: 15px 0; border-radius: 0 4px 4px 0; border-left: 4px solid #fadd1f; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 0; right: 0; width: 60px; height: 60px; background: radial-gradient(circle, rgba(250,221,31,0.1) 0%, transparent 70%); border-radius: 50%;"></div>
                    <p style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-exclamation-triangle" style="color: #fadd1f;"></i>
                        <span>æ ¸å¿ƒæœºåˆ¶</span>
                    </p>
                    <div style="padding-left: 8px; border-left: 2px solid #ffe8b3;">
                        <p style="margin: 0 0 6px 0; line-height: 1.5; font-size: 14px;">é¼ æ ‡åœ¨é è¿‘ä¸­å¿ƒå¼€å§‹å·¥ä½œæŒ‰é’®æ—¶<strong style="color: #45c77e;">é˜»åŠ›å˜å¤§</strong></p>
                        <p style="margin: 0 0 6px 0; line-height: 1.5; font-size: 14px;">å‘¨å›´çš„<strong style="color: #45c77e;">å¨±ä¹åŒºåŸŸ</strong>ä¼šå¸å¼•é¼ æ ‡</p>
                        <p style="margin: 0; line-height: 1.5; font-size: 14px;">ä½“éªŒADHDæ‚£è€…é¢å¯¹ä»»åŠ¡æ—¶çš„<strong style="color: #45c77e;">å¯åŠ¨å›°éš¾</strong></p>
                    </div>
                </div>

                <div style="margin-top: 15px; padding: 12px 14px; background: #f0fdf4; border-radius: 8px; border: 1px solid #d1f4e0; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <p style="margin: 0 0 8px 0; font-size: 13px; color: #1a4d2e; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-headphones-alt" style="color: #45c77e; font-size: 14px;"></i>
                        <strong style="color: #2d5f3f;">æç¤ºï¼š</strong>
                        <span>ä¸ºè·å¾—å®Œæ•´ä½“éªŒï¼Œè¯·ä½©æˆ´è€³æœºæˆ–å¼€å¯éŸ³é‡</span>
                    </p>
                    
                </div>

                <button class="btn btn-large" id="startChallengeBtn" style="margin-top: 20px; width: 100%; background: linear-gradient(45deg, #45c77e, #3ab86e); box-shadow: 0 4px 15px rgba(69, 199, 126, 0.3);">
                    <i class="fas fa-play-circle"></i> å¼€å§‹ä½“éªŒ
                </button>
            </div>
        </div>
    </div>

    <!-- ä¸»æ¸¸æˆåŒºåŸŸ -->
    <div class="main-game-area">
        <!-- å£°éŸ³æ§åˆ¶æŒ‰é’® -->
        <button class="btn audio-control" id="audioControl">
            <i class="fas fa-volume-up"></i> å¼€å¯å£°éŸ³
        </button>

        <!-- è‡ªå®šä¹‰é˜»åŠ›å…‰æ ‡ -->
        <div class="custom-cursor" id="customCursor"></div>

        <!-- æ ¸å¿ƒå·¥ä½œåŒº -->
        <div class="gravity-well" id="gravityWell">
            <!-- æŒ‰é’®å‘¨å›´çš„å…‰ç¯ -->
            <div class="button-halo" id="buttonHalo"></div>

            <!-- ä»»åŠ¡æŒ‰é’® - ç°åœ¨ä¸ºåœ†å½¢ -->
            <div class="task-button-container" id="taskButtonContainer">
                <button class="task-btn" id="taskBtn">
                    <div class="task-btn-text">
                        <div class="task-btn-title">å¼€å§‹å·¥ä½œ</div>
                        <div class="task-btn-subtitle">å­£åº¦æŠ¥å‘Š</div>
                    </div>
                </button>
            </div>
        </div>

        <!-- è¾¹ç¼˜å¨±ä¹åŒº/å¹¿å‘ŠåŒº -->
        <div class="entertainment-zones zone-1" id="zone1">
            <div class="ad-label">
                <i class="fas fa-video"></i> æç¬‘è§†é¢‘
            </div>
            <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExeHF4OWV2bTV2Mnd0OW96a2w4aGJmOWE4OWY2bWg4N2U1YzA1ZiZlcD12MV9pbnRlcm5hbF9naWZzX2dpZklkJmN0=PWc/JIX9t2j0ZTN9S/giphy.gif" alt="çŒ«å’ªä¿ƒé”€" class="entertainment-gif">
        </div>
        <div class="entertainment-zones zone-2" id="zone2">
            <div class="ad-label">
                <i class="fas fa-shopping-cart"></i> å›¢è´­ä¿ƒé”€
            </div>
            <img src="https://picsum.photos/181/221?random=2" alt="çƒ­é—¨æ¸¸æˆ" class="entertainment-gif">
        </div>
        <div class="entertainment-zones zone-3" id="zone3">
            <div class="ad-label">
                <i class="fas fa-gamepad"></i> çƒ­é—¨æ¸¸æˆ
            </div>
            <img src="https://picsum.photos/181/221?random=3" alt="çƒ­é—¨æ¸¸æˆ" class="entertainment-gif">
        </div>
        <div class="entertainment-zones zone-4" id="zone4">
            <div class="ad-label">
                <i class="fas fa-gift"></i> é™æ—¶ç§’æ€
            </div>
            <img src="https://picsum.photos/181/221?random=4" alt="é™æ—¶ç§’æ€" class="entertainment-gif">
        </div>
        <div class="entertainment-zones zone-5" id="zone5">
            <div class="ad-label">
                <i class="fas fa-comment"></i> ç¤¾äº¤æ¶ˆæ¯
            </div>
            <img src="https://picsum.photos/181/221?random=5" alt="ç¤¾äº¤æ¶ˆæ¯" class="entertainment-gif">
        </div>
        <div class="entertainment-zones zone-6" id="zone6">
            <div class="ad-label">
                <i class="fas fa-music"></i> çƒ­é—¨éŸ³ä¹
            </div>
            <img src="https://picsum.photos/181/221?random=6" alt="çƒ­é—¨éŸ³ä¹" class="entertainment-gif">
        </div>

        <!-- èƒ½é‡æ¡ -->
        <div class="energy-bar" id="energyBar">
            <div class="energy-bar-label">ç²¾åŠ›å€¼</div>
            <div class="energy-fill" id="energyFill"></div>
        </div>

        <!-- èƒ½é‡æ•°å€¼æ˜¾ç¤º -->
        <div class="energy-value" id="energyValue">
            <i class="fas fa-battery-full"></i> 100.00%
        </div>

        <!-- è®¡æ—¶å™¨æ˜¾ç¤º -->
        <div class="timer-display" id="timerDisplay">
            <i class="fas fa-clock"></i> å°è¯•æ—¶é—´: 0.00ç§’
        </div>

        <!-- å¤±è´¥æ¬¡æ•°æ˜¾ç¤º -->
        <div class="fail-count-display" id="failCountDisplay">
            <i class="fas fa-times-circle"></i> å¤±è´¥æ¬¡æ•°: 0
        </div>

        <!-- åˆ†å¿ƒå€’è®¡æ—¶æç¤º -->
        <div class="distraction-timer" id="distractionTimer">
            <i class="fas fa-hourglass-end"></i> åˆ†å¿ƒå€’è®¡æ—¶: 1.00ç§’
        </div>

        <!-- ä¸­å¿ƒåŒºåŸŸä¿æŒæç¤º -->
        <div class="center-hint" id="centerHint"></div>

        <!-- ä»»åŠ¡å®Œæˆæç¤º -->
        <div class="task-complete-hint" id="taskCompleteHint">
            <i class="fas fa-check-circle"></i> ä»»åŠ¡å®Œæˆï¼
        </div>

        <!-- ä»»åŠ¡é€‰æ‹©æ­£ç¡®æç¤º -->
        <div class="correct-choice-hint" id="correctChoiceHint">
            <i class="fas fa-check-circle"></i> é€‰æ‹©æ­£ç¡®ï¼
        </div>
    </div>

    <!-- è¿‡æ¸¡é˜¶æ®µæ¨¡æ€æ¡† -->
    <div id="transitionScreen" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h1 class="transition-title"><i class="fas fa-search"></i> ç¬¬äºŒé˜¶æ®µ</h1>
                <p class="transition-subtitle">è¿›å…¥å¤šä»»åŠ¡å¹²æ‰°é˜¶æ®µ</p>
            </div>

            <div class="modal-content">
                <div style="background: linear-gradient(135deg, #e8f9f0 0%, #f0fdf4 100%); padding: 14px 16px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #45c77e;">
                    <p style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600; color: #1a4d2e; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-tasks" style="color: #45c77e;"></i>
                        <span>ä»»åŠ¡è¯´æ˜</span>
                    </p>
                    <p style="margin: 0; font-size: 15px; line-height: 1.5; color: #2d5f3f;">
                        <span style="color: #45c77e; font-weight: 700;">ä»å¤šä¸ªä»»åŠ¡ä¸­æ‰¾å‡ºæ­£ç¡®çš„ä¸€ä¸ª</span>å¹¶ç‚¹å‡»
                    </p>
                </div>

                <div style="background: #fff8e6; padding: 12px; margin: 15px 0; border-radius: 0 4px 4px 0; border-left: 4px solid #fadd1f; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 0; right: 0; width: 60px; height: 60px; background: radial-gradient(circle, rgba(250,221,31,0.1) 0%, transparent 70%); border-radius: 50%;"></div>
                    <p style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-exclamation-triangle" style="color: #fadd1f;"></i>
                        <span>æ³¨æ„äº‹é¡¹</span>
                    </p>
                    <div style="padding-left: 8px; border-left: 2px solid #ffe8b3;">
                        <p style="margin: 0 0 6px 0; line-height: 1.5; font-size: 14px;">ä»»åŠ¡æŒ‰é’®ä¼š<strong style="color: #45c77e;">ä¸æ–­ç§»åŠ¨å’Œæ”¹å˜é¢œè‰²</strong></p>
                        <p style="margin: 0 0 6px 0; line-height: 1.5; font-size: 14px;">åªæœ‰<strong style="color: #45c77e;">è“è‰²æŒ‰é’®</strong>æ˜¯æ­£ç¡®çš„ä»»åŠ¡</p>
                        <p style="margin: 0; line-height: 1.5; font-size: 14px;">ç‚¹å‡»é”™è¯¯æŒ‰é’®ä¼š<strong style="color: #45c77e;">é‡æ–°å¼€å§‹</strong></p>
                    </div>
                </div>

                <div style="margin-top: 15px; padding: 12px 14px; background: #f0fdf4; border-radius: 8px; border: 1px solid #d1f4e0; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <p style="margin: 0; font-size: 13px; color: #1a4d2e; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-lightbulb" style="color: #45c77e; font-size: 14px;"></i>
                        <strong style="color: #2d5f3f;">æç¤ºï¼š</strong>
                        <span>è¿™æ¨¡æ‹ŸADHDæ‚£è€…é¢å¯¹ä»»åŠ¡çš„å¼€å¯å›°éš¾</span>
                    </p>
                </div>

                <button class="btn btn-large" id="startSecondStageBtn" style="margin-top: 20px; width: 100%; background: linear-gradient(45deg, #45c77e, #3ab86e); box-shadow: 0 4px 15px rgba(69, 199, 126, 0.3);">
                    <i class="fas fa-play-circle"></i> å¼€å§‹ç¬¬äºŒé˜¶æ®µ
                </button>
            </div>
        </div>
    </div>

    <!-- æˆåŠŸç•Œé¢æ¨¡æ€æ¡† -->
    <div id="successScreen" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h1 class="success-title">ğŸ‰ ä»»åŠ¡å¯åŠ¨æˆåŠŸï¼</h1>
                <h2 class="success-subtitle">æ‚¨å®Œæˆäº†ADHDè®¤çŸ¥é˜»åŠ›çš„ä½“éªŒ</h2>
            </div>

            <div class="stats-container">
                <div class="stat-box">
                    <div class="stat-value" id="finalTime">0.00s</div>
                    <div class="stat-label">
                        <i class="fas fa-clock"></i> æ€»è€—æ—¶
                    </div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="finalStableTime">0.00s</div>
                    <div class="stat-label">
                        <i class="fas fa-bullseye"></i> ç¨³å®šæ—¶é—´
                    </div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="finalFails">0</div>
                    <div class="stat-label">
                        <i class="fas fa-times-circle"></i> å¤±è´¥æ¬¡æ•°
                    </div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="finalEnergy">100.00%</div>
                    <div class="stat-label">
                        <i class="fas fa-battery-full"></i> å‰©ä½™èƒ½é‡
                    </div>
                </div>
            </div>

            <div class="neuro-reflection">
                <h3 class="reflection-title">
                    <i class="fas fa-brain"></i> ç¥ç»è®¤çŸ¥åæ€
                </h3>
                <p class="reflection-text">
                    åœ¨ç¬¬ä¸€ä¸ªä»»åŠ¡ä¸­ï¼Œä¸­å¿ƒæŒ‰é’®çš„æ’æ–¥ã€å‘¨å›´å¹¿å‘Šçš„å¸å¼•å’Œé¼ æ ‡çš„è‡ªåŠ¨è·³è½¬ï¼Œæ¨¡æ‹Ÿçš„æ˜¯ADHDæ‚£è€…æ‰§è¡Œé‡è¦ä»»åŠ¡æ—¶çš„æ„Ÿå—åˆ°çš„é˜»åŠ›å’Œåˆ†å¿ƒï¼›è€Œç¬¬äºŒä¸ªä»»åŠ¡ä¸­çš„å¤šä¸ªå¹²æ‰°ä»»åŠ¡ï¼Œåˆ™æ˜¯å¯¹ADHDæ‚£è€…é¢å¯¹å¤æ‚ä»»åŠ¡æ—¶éš¾ä»¥æ‰¾åˆ°å¼€å§‹æ–¹å‘çš„ç²¾ç¥å‹åŠ›çš„æ¨¡æ‹Ÿã€‚
                </p>
            </div>

            <div class="button-container">
                <!-- æ”¹ä¸ºå†è¯•ä¸€æ¬¡å’ŒæŸ¥çœ‹ç§‘æ™®æŒ‰é’® -->
                 <button class="btn btn-large btn-science" id="scienceBtn">
                    <i class="fas fa-book-open"></i> æŸ¥çœ‹ç§‘æ™®
                </button>

                <button class="btn btn-large btn-retry" id="retryBtn">
                    <i class="fas fa-redo"></i> å†è¯•ä¸€æ¬¡
                </button>
                
            </div>

            <!-- åº†ç¥åŠ¨ç”» -->
            <div class="celebration-animation" id="celebrationAnimation"></div>
        </div>
    </div>

    <!-- åä»»åŠ¡ç•Œé¢ -->
    <div class="ten-tasks-screen" id="tenTasksScreen">
        <h2 class="ten-tasks-title">
            <i class="fas fa-search"></i> æ‰¾åˆ°è“è‰²æ­£ç¡®ä»»åŠ¡æŒ‰é’®å¹¶ç‚¹å‡»
        </h2>
        <div class="ten-tasks-instruction">ä»»åŠ¡æŒ‰é’®ä¼šä¸æ–­ç§»åŠ¨å’Œæ”¹å˜é¢œè‰²ï¼Œåªæœ‰æ­£ç¡®æŒ‰é’®ä¿æŒè“è‰²</div>

        <!-- åä»»åŠ¡ç•Œé¢çš„è®¡æ—¶å™¨ -->
        <div class="ten-tasks-timer" id="tenTasksTimer">
            <i class="fas fa-clock"></i> ç”¨æ—¶: 0.00ç§’
        </div>

        <div class="ten-tasks-hint" id="tenTasksHint">
            <i class="fas fa-info-circle"></i> åªæœ‰è“è‰²æŒ‰é’®æ˜¯æ­£ç¡®çš„ï¼Œå…¶ä»–é¢œè‰²æŒ‰é’®æ˜¯å¹²æ‰°é¡¹
        </div>


        <div class="ten-tasks-container" id="tenTasksContainer">
            <!-- 10ä¸ªä»»åŠ¡æŒ‰é’®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

    <!-- å¬è§‰åé¦ˆæç¤º -->
    <div class="audio-hint">
        <i class="fas fa-volume-up"></i> æç¤ºï¼šå¼€å¯å£°éŸ³ä½“éªŒè€³é¸£æ•ˆæœ
    </div>

    <script src="scripts/audio.js"></script>
    <script src="scripts/stages.js"></script>
    <script src="scripts/stage1.js"></script>
    <script src="scripts/stage2.js"></script>
    <script src="scripts/main.js"></script>

    <!-- ä¿®æ”¹åçš„å†…è”è„šæœ¬ -->
    <script>
        // é¡µé¢åŠ è½½åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function () {
            console.log('é¡µé¢åˆå§‹åŒ–');

            // åˆå§‹åŒ–é¡µé¢ä¸é€æ˜åº¦
            document.body.style.opacity = '0';

            // è®¾ç½®UIå¡ç‰‡æ•ˆæœ
            setupUICardEffects();

            // è®¾ç½®æŒ‰é’®å›¾æ ‡æ•ˆæœ
            setupButtonIconEffects();

            // è®¾ç½®å¯¼èˆªæ æ•ˆæœ
            setupNavbarEffects();

            // ç»‘å®šæŒ‰é’®äº‹ä»¶
            bindButtonEvents();
            
            // ç¡®ä¿éŸ³é¢‘ç³»ç»ŸåŠ è½½
            console.log('æ£€æŸ¥éŸ³é¢‘ç³»ç»Ÿ...');
            if (typeof initAudio !== 'function') {
                console.warn('éŸ³é¢‘ç³»ç»ŸæœªåŠ è½½ï¼Œè¯·æ£€æŸ¥audio.js');
            }

            // é¡µé¢åŠ è½½å®ŒæˆåŠ¨ç”»
            setTimeout(() => {
                document.body.style.opacity = '1';
                document.body.style.transition = 'opacity 0.8s ease';

                // æ˜¾ç¤ºæ¬¢è¿æç¤º
                showWelcomeMessage();
            }, 300);
        });

        // ç»‘å®šæŒ‰é’®äº‹ä»¶
        function bindButtonEvents() {
            // éŸ³é¢‘æ§åˆ¶æŒ‰é’® - ç¡®ä¿ç»‘å®š
            const audioControl = document.getElementById('audioControl');
            if (audioControl) {
                audioControl.addEventListener('click', function() {
                    if (typeof toggleAudio === 'function') {
                        toggleAudio();
                    } else if (typeof window.toggleAudio === 'function') {
                        window.toggleAudio();
                    } else {
                        // æ‰‹åŠ¨å®ç°éŸ³é¢‘åˆ‡æ¢
                        if (!window.audioContext) {
                            initAudio();
                        } else {
                            if (window.audioContext.state === 'suspended') {
                                window.audioContext.resume();
                                window.isAudioEnabled = true;
                                this.innerHTML = '<i class="fas fa-volume-up"></i> å…³é—­å£°éŸ³';
                            } else {
                                window.audioContext.suspend();
                                window.isAudioEnabled = false;
                                this.innerHTML = '<i class="fas fa-volume-mute"></i> å¼€å¯å£°éŸ³';
                            }
                        }
                    }
                });
            }
            
            // å¼€å§‹æŒ‘æˆ˜æŒ‰é’®
            const startChallengeBtn = document.getElementById('startChallengeBtn');
            if (startChallengeBtn) {
                startChallengeBtn.addEventListener('click', function () {
                    // åˆå§‹åŒ–éŸ³é¢‘ï¼ˆéœ€è¦ç”¨æˆ·äº¤äº’è§¦å‘ï¼‰
                    if (!window.audioContext && typeof initAudio === 'function') {
                        initAudio();
                    }
                    
                    // éšè—å¼€å§‹ç•Œé¢æ¨¡æ€æ¡†
                    document.getElementById('startScreen').classList.add('hidden');
                    // è¿™é‡Œåº”è¯¥è°ƒç”¨åŸæœ‰çš„å¼€å§‹æ¸¸æˆé€»è¾‘
                    if (typeof startFirstStage === 'function') {
                        startFirstStage();
                    }
                });
            }

            // å¼€å§‹ç¬¬äºŒé˜¶æ®µæŒ‰é’®
            const startSecondStageBtn = document.getElementById('startSecondStageBtn');
            if (startSecondStageBtn) {
                startSecondStageBtn.addEventListener('click', function () {
                    // éšè—è¿‡æ¸¡ç•Œé¢æ¨¡æ€æ¡†
                    document.getElementById('transitionScreen').classList.add('hidden');
                    // æ˜¾ç¤ºåä»»åŠ¡ç•Œé¢
                    document.getElementById('tenTasksScreen').classList.add('active');
                    // è¿™é‡Œåº”è¯¥è°ƒç”¨åŸæœ‰çš„ç¬¬äºŒé˜¶æ®µé€»è¾‘
                    if (typeof startSecondStage === 'function') {
                        startSecondStage();
                    }
                });
            }

            // å†è¯•ä¸€æ¬¡æŒ‰é’®
            const retryBtn = document.getElementById('retryBtn');
            if (retryBtn) {
                retryBtn.addEventListener('click', function () {
                    // è°ƒç”¨å…¨å±€çš„resetGameå‡½æ•°æ¥é‡æ–°åŠ è½½é¡µé¢
                    if (typeof window.resetGame === 'function') {
                        window.resetGame();
                    } else {
                        // åå¤‡æ–¹æ¡ˆï¼šç›´æ¥é‡æ–°åŠ è½½é¡µé¢
                        location.reload();
                    }
                });
            }

            // æŸ¥çœ‹ç§‘æ™®æŒ‰é’®
            const scienceBtn = document.getElementById('scienceBtn');
            if (scienceBtn) {
                scienceBtn.addEventListener('click', function () {
                    // è·³è½¬åˆ°ç§‘æ™®é¡µé¢çš„ä»»åŠ¡å¯åŠ¨å›°éš¾ç« èŠ‚
                    window.location.href = 'kepu_1.html#ip';
                });
            }

            // åä»»åŠ¡ç•Œé¢è¿”å›æŒ‰é’®
            const tenTasksBackBtn = document.getElementById('tenTasksBackBtn');
            if (tenTasksBackBtn) {
                tenTasksBackBtn.addEventListener('click', function () {
                    // éšè—åä»»åŠ¡ç•Œé¢
                    document.getElementById('tenTasksScreen').classList.remove('active');
                    // æ˜¾ç¤ºå¼€å§‹ç•Œé¢
                    document.getElementById('startScreen').classList.remove('hidden');
                    // é‡ç½®æ¸¸æˆçŠ¶æ€
                    if (typeof resetGame === 'function') {
                        resetGame();
                    }
                });
            }
        }

        // è®¾ç½®UIå¡ç‰‡æ•ˆæœ
        function setupUICardEffects() {
            const uiCards = document.querySelectorAll(
                '.energy-value, .timer-display, .resistance-indicator, ' +
                '.fail-count-display, .find-button-hint, .distraction-timer, ' +
                '.button-instruction, .audio-hint, .lock-hint, .center-hint'
            );

            uiCards.forEach(card => {
                // æ·»åŠ æ‚¬åœæ•ˆæœ
                card.addEventListener('mouseenter', function () {
                    this.style.transform = 'translateY(-5px) scale(1.02)';
                    this.style.boxShadow = '0 15px 30px rgba(0, 0, 0, 0.15)';
                    this.style.zIndex = '10001';
                    this.style.borderColor = 'var(--primary-light)';
                });

                card.addEventListener('mouseleave', function () {
                    this.style.transform = 'translateY(0) scale(1)';
                    this.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.05)';
                    this.style.zIndex = 'auto';
                    this.style.borderColor = 'var(--light-gray)';
                });
            });
        }

        // è®¾ç½®æŒ‰é’®å›¾æ ‡æ•ˆæœ
        function setupButtonIconEffects() {
            const iconButtons = document.querySelectorAll(
                '.btn, .task-btn'
            );

            iconButtons.forEach(button => {
                button.addEventListener('mouseenter', function () {
                    const icon = this.querySelector('i');
                    if (icon) {
                        icon.style.transform = 'scale(1.3) rotate(5deg)';
                        icon.style.transition = 'transform 0.3s ease, color 0.3s ease';
                    }
                });

                button.addEventListener('mouseleave', function () {
                    const icon = this.querySelector('i');
                    if (icon) {
                        icon.style.transform = 'scale(1) rotate(0deg)';
                    }
                });

                button.addEventListener('mousedown', function () {
                    this.style.transform = 'scale(0.95)';
                });

                button.addEventListener('mouseup', function () {
                    this.style.transform = 'scale(1)';
                });
            });
        }

        // è®¾ç½®å¯¼èˆªæ æ•ˆæœ
        function setupNavbarEffects() {
            const navbar = document.querySelector('.navbar');
            if (!navbar) return;

            // æ»šåŠ¨æ•ˆæœ - ä½¿ç”¨SGFé£æ ¼çš„åŠé€æ˜æ•ˆæœ
            window.addEventListener('scroll', function () {
                if (window.scrollY > 50) {
                    navbar.style.background = 'rgba(255, 255, 255, 0.98)';
                    navbar.style.backdropFilter = 'blur(10px)';
                    navbar.style.boxShadow = '0 5px 20px rgba(0, 0, 0, 0.1)';
                    navbar.style.borderBottom = '1px solid rgba(255, 132, 71, 0.1)';
                } else {
                    navbar.style.background = 'white';
                    navbar.style.backdropFilter = 'none';
                    navbar.style.boxShadow = '0 2px 15px rgba(0, 0, 0, 0.08)';
                    navbar.style.borderBottom = 'none';
                }
            });

            // å¯¼èˆªæ logoç‚¹å‡»æ•ˆæœ
            const logo = document.querySelector('.logo');
            if (logo) {
                logo.addEventListener('click', function () {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            }
        }

        // æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯ - ä½¿ç”¨æ¨¡æ€æ¡†é£æ ¼
        function showWelcomeMessage() {
            // æ£€æŸ¥æ˜¯å¦é¦–æ¬¡è®¿é—®
            const hasVisited = localStorage.getItem('adhd_sim_visited');

            if (!hasVisited) {
                const welcomeMsg = document.createElement('div');
                welcomeMsg.className = 'modal-overlay';
                welcomeMsg.style.zIndex = '20001';
                welcomeMsg.innerHTML = `
                                    <div class="modal" style="max-width: 600px;">
                                        <div class="modal-header">
                                            <h3 style="color: var(--primary); font-size: 1.8rem;">
                                                <i class="fas fa-brain"></i> æ¬¢è¿æ¥åˆ°ADHDè®¤çŸ¥æ¨¡æ‹Ÿä½“éªŒ
                                            </h3>
                                        </div>
                                        <div style="padding: 20px 0;">
                                            <p style="font-size: 16px; line-height: 1.6; color: var(--gray); margin-bottom: 20px;">
                                                æœ¬ä½“éªŒå°†æ¨¡æ‹ŸADHDæ‚£è€…åœ¨ä»»åŠ¡å¯åŠ¨æ—¶é‡åˆ°çš„è®¤çŸ¥é˜»åŠ›ã€‚è¯·å‡†å¤‡å¥½è€³æœºä»¥è·å¾—å®Œæ•´ä½“éªŒã€‚
                                            </p>
                                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                                                <p style="margin: 0 0 10px 0; font-size: 14px; color: #666;">
                                                    <i class="fas fa-headphones-alt"></i>
                                                    <strong>æç¤ºï¼š</strong>ä¸ºè·å¾—å®Œæ•´ä½“éªŒï¼Œè¯·ä½©æˆ´è€³æœºæˆ–å¼€å¯éŸ³é‡
                                                </p>
                                                <p style="margin: 0; font-size: 14px; color: #666;">
                                                    <i class="fas fa-clock"></i>
                                                    <strong>é¢„ä¼°æ—¶é—´ï¼š</strong>ç¬¬ä¸€æ¬¡ä½“éªŒçº¦1-3åˆ†é’Ÿ
                                                </p>
                                            </div>
                                        </div>
                                        <div class="button-container">
                                            <button class="btn btn-large" id="welcomeCloseBtn">
                                                <i class="fas fa-play-circle"></i> å¼€å§‹ä½“éªŒ
                                            </button>
                                        </div>
                                    </div>
                                `;

                document.body.appendChild(welcomeMsg);

                const welcomeClose = welcomeMsg.querySelector('#welcomeCloseBtn');
                welcomeClose.addEventListener('click', function () {
                    welcomeMsg.style.animation = 'fadeOut 0.5s ease forwards';
                    setTimeout(() => {
                        document.body.removeChild(welcomeMsg);
                    }, 500);
                    localStorage.setItem('adhd_sim_visited', 'true');
                });
            }
        }

        // æ¸¸æˆå‡½æ•° - è¿™äº›åº”è¯¥ç”±åŸæœ‰æ¸¸æˆé€»è¾‘è°ƒç”¨
        function showTransitionScreen() {
            document.getElementById('transitionScreen').classList.remove('hidden');
        }

        // ä¿®æ”¹ï¼šç»Ÿè®¡æ•°æ®ç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸¤ä½ï¼Œå‰©ä½™èƒ½é‡åªæ˜¾ç¤ºä¸¤ä½å°æ•°
        function showSuccessScreen(finalTime, finalStableTime, finalFails, finalEnergy) {
            // ç¡®ä¿æ•°å€¼ç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸¤ä½
            const formattedFinalTime = typeof finalTime === 'number' ? finalTime.toFixed(2) : finalTime;
            const formattedFinalStableTime = typeof finalStableTime === 'number' ? finalStableTime.toFixed(2) : finalStableTime;

            // ç¡®ä¿å‰©ä½™èƒ½é‡åªæ˜¾ç¤ºä¸¤ä½å°æ•°ï¼ˆä»å­—ç¬¦ä¸²æˆ–æ•°å­—ä¸­æå–ï¼‰
            let formattedFinalEnergy;
            if (typeof finalEnergy === 'string') {
                // å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œæå–æ•°å­—éƒ¨åˆ†
                const energyMatch = finalEnergy.match(/(\d+\.?\d*)/);
                if (energyMatch) {
                    formattedFinalEnergy = parseFloat(energyMatch[0]).toFixed(2);
                } else {
                    formattedFinalEnergy = finalEnergy;
                }
            } else if (typeof finalEnergy === 'number') {
                // å¦‚æœæ˜¯æ•°å­—ï¼Œç›´æ¥æ ¼å¼åŒ–
                formattedFinalEnergy = finalEnergy.toFixed(2);
            } else {
                formattedFinalEnergy = finalEnergy;
            }

            document.getElementById('finalTime').textContent = formattedFinalTime + 's';
            document.getElementById('finalStableTime').textContent = formattedFinalStableTime + 's';
            document.getElementById('finalFails').textContent = finalFails;
            document.getElementById('finalEnergy').textContent = formattedFinalEnergy + '%';
            document.getElementById('successScreen').classList.remove('hidden');
        }

        // æ³¨æ„ï¼šstartFirstStage, startSecondStage, resetGame å‡½æ•°ç”±å¤–éƒ¨è„šæœ¬(stage1.js, stage2.js, stages.js)æä¾›
        // ä¸è¦åœ¨è¿™é‡Œé‡æ–°å®šä¹‰å®ƒä»¬ï¼Œå¦åˆ™ä¼šè¦†ç›–å®é™…çš„æ¸¸æˆé€»è¾‘ï¼

        // æ›´æ–°è®¡æ—¶å™¨æ˜¾ç¤ºï¼ˆç¤ºä¾‹å‡½æ•°ï¼‰
        function updateTimerDisplay(seconds) {
            const timerDisplay = document.getElementById('timerDisplay');
            if (timerDisplay) {
                timerDisplay.innerHTML = `<i class="fas fa-clock"></i> å°è¯•æ—¶é—´: ${seconds.toFixed(2)}ç§’`;
            }

            const tenTasksTimer = document.getElementById('tenTasksTimer');
            if (tenTasksTimer) {
                tenTasksTimer.innerHTML = `<i class="fas fa-clock"></i> ç”¨æ—¶: ${seconds.toFixed(2)}ç§’`;
            }
        }
    </script>
</body>
</html>