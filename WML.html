<!--WML WorkingMemoryLosslight å·¥ä½œè®°å¿†ç¼ºå¤±-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADHDè®¤çŸ¥æ¨¡æ‹Ÿï¼šæ‰¾å›å¯†ç éªŒè¯ä½“éªŒ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ========== é¡¶éƒ¨å›ºå®šå¯¼èˆªæ  ========== */
        /* å›ºå®šåœ¨é¡µé¢é¡¶éƒ¨çš„å¯¼èˆªæ¡å®¹å™¨ */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.12);  /* åŠé€æ˜é»‘è‰²é˜´å½± */
            z-index: 10000;
            padding: 0 20px;
        }
        
        /* å¯¼èˆªæ å†…éƒ¨å®¹å™¨ï¼Œé™åˆ¶æœ€å¤§å®½åº¦å¹¶å±…ä¸­ */
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 0;
        }
        
        /* LogoåŒºåŸŸå®¹å™¨ */
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        /* Logoå›¾æ ‡ï¼ˆå¤§è„‘å›¾æ ‡ï¼‰ */
        .logo-icon {
            color: #ffc829;  /* æ›´äº®çš„æš–é‡‘è‰² */
            font-size: 28px;
        }
        
        /* Logoä¸»æ ‡é¢˜æ–‡å­— */
        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: #ffd93d;  /* æ›´äº®çš„æš–é‡‘è‰² */
        }
        
        /* Logoå‰¯æ ‡é¢˜æ–‡å­— */
        .logo-subtitle {
            font-size: 14px;
            color: #736b5f;  /* æš–ä¸­ç°è‰² */
            margin-top: -5px;
        }
        
        /* è¿”å›é¦–é¡µæŒ‰é’® */
        .cta-button {
            background-color: #ffcb3d;  /* ä¸»è‰²é»„è‰² */
            color: #ffffff;              /* æš–é»‘è‰²æ–‡å­— */
            border: none;
            padding: 10px 24px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        /* è¿”å›æŒ‰é’®æ‚¬åœæ•ˆæœ */
        .cta-button:hover {
            background-color: #ffc829;  /* æ·±é»„è‰² */
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);  /* åŠé€æ˜é»‘è‰²é˜´å½± */
        }

        /* ========== é¡µé¢åŸºç¡€æ ·å¼ ========== */
        /* å…¨å±€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        /* é¡µé¢ä¸»ä½“æ ·å¼ï¼Œå‚ç›´å±…ä¸­å¸ƒå±€ */
        body {
            background-color: #fffdf8;  /* æ¸©å’Œçš„æµ…ç±³è‰²èƒŒæ™¯ï¼Œä¸å¤ªé»„ */
            color: #3e3632;              /* æš–é»‘è‰²æ–‡å­— */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 90px 20px 20px 20px;
            line-height: 1.6;
        }

        /* ========== ä¸»å®¹å™¨ ========== */
        /* ç™½è‰²ä¸»å®¹å™¨å¡ç‰‡ï¼ŒåŒ…å«æ‰€æœ‰ä»»åŠ¡å†…å®¹ */
        .container {
            width: 100%;
            max-width: 800px;
            background-color: #ffffff;
            border-radius: 16px;
            padding: 16px 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: visible;
            border: 1px solid #f5f0e8;
        }

        /* ========== é¡µé¢å¤´éƒ¨ ========== */
        /* å†…å®¹åŒºåŸŸçš„å¤´éƒ¨ï¼ˆæ ‡é¢˜åŒºï¼‰ */
        header {
            text-align: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid #f5f0e8;
        }

        /* ä¸»æ ‡é¢˜ */
        h1 {
            font-size: 28px;  /* ä»20pxå¢å¤§åˆ°28px */
            margin-bottom: 4px;
            color: #ffd93d;
        }

        /* å‰¯æ ‡é¢˜ */
        .subtitle {
            color: #8b7d6b;  /* æ¸©æš–çš„ç°æ£•è‰² */
            font-size: 14px;
        }

        /* ========== ä»»åŠ¡è¯´æ˜æ¡† ========== */
        /* é»„è‰²ä»»åŠ¡è¯´æ˜åŒºåŸŸ */
        .task-instruction {
            background-color: #fffbf0;
            padding: 10px 15px;
            border-radius: 10px;
            margin-bottom: 12px;
            border-left: 3px solid #ffd93d;
        }

        /* ä»»åŠ¡è¯´æ˜æ ‡é¢˜ */
        .task-instruction h3 {
            margin-bottom: 8px;
            color: #5a4f42;  /* æ·±æš–ç°è‰² */
        }

        /* ========== æ¨¡æ‹Ÿäº¤äº’åŒºåŸŸ ========== */
        /* æ¨¡æ‹ŸåŒºåŸŸå®¹å™¨ï¼ˆéªŒè¯ç +è¾“å…¥æ¡†ï¼‰ */
        .simulation-area {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 15px;
        }

        /* ========== éªŒè¯ç æ˜¾ç¤ºåŒºåŸŸ ========== */
        /* éªŒè¯ç æ˜¾ç¤ºåŒºåŸŸå®¹å™¨ */
        .verification-code-area {
            background-color: #fffbf0;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            transition: filter 0.3s ease;
            position: relative;
            border: 1px solid #f5f0e8;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* éªŒè¯ç ä¸Šæ–¹çš„æ ‡ç­¾æ–‡å­— */
        .verification-code-label {
            font-size: 14px;
            color: #8b7d6b;                  /* æ¸©æš–çš„ç°æ£•è‰² */
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        /* éªŒè¯ç æ•°å­—æ˜¾ç¤ºåŒºåŸŸ */
        .verification-code {
            font-size: 36px;
            font-weight: 700;
            /* letter-spacing: 6px; Removed for flex layout */
            color: #ffb020;                  /* æ›´äº®çš„æ©™é»„è‰²æ•°å­— */
            font-family: 'Courier New', monospace;
            transition: filter 0.5s ease;
            user-select: none;
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        /* éªŒè¯ç å•ä¸ªå­—ç¬¦ */
        .verification-code span {
            transition: filter 0.5s ease;
            filter: blur(0);
        }
        
        /* æ‰‹ç”µç­’æ¨¡å¼ä¸‹ç¦ç”¨è¿‡æ¸¡ï¼Œä¿è¯å®æ—¶å“åº” */
        .verification-code.flashlight-mode span {
            transition: none;
        }

        /* éªŒè¯ç æ¨¡ç³ŠçŠ¶æ€ */
        .verification-code.blurred span {
            filter: blur(10px);
        }

        /* éªŒè¯ç åŒºåŸŸçš„æ¨¡ç³Šé®ç½©å±‚ */
        .blur-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            backdrop-filter: blur(8px);
            background-color: rgba(248, 248, 246, 0.8);  /* ğŸ¨ é®ç½©å±‚èƒŒæ™¯è‰² - åŠé€æ˜æµ…ç±³è‰²èƒŒæ™¯ï¼ˆrgbaå‰ä¸‰ä½æ˜¯RGBé¢œè‰²å€¼ï¼Œæœ€åçš„0.8æ˜¯é€æ˜åº¦ï¼Œå¯ä¿®æ”¹ä¸ºå¦‚ rgba(255,255,255,0.9) ç™½è‰²åŠé€æ˜ï¼‰ */
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #8b7d6b;                  /* æ¸©æš–çš„ç°æ£•è‰² */
            font-size: 18px;
            z-index: 10;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        /* é®ç½©å±‚æ¿€æ´»çŠ¶æ€ */
        .blur-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* ========== è¾“å…¥åŒºåŸŸ ========== */
        /* è¾“å…¥åŒºåŸŸå®¹å™¨ */
        .input-area {
            background-color: #fffbf0;
            border-radius: 12px;
            padding: 15px;
            transition: filter 0.3s ease;
            position: relative;
            border: 1px solid #f5f0e8;
        }

        /* è¾“å…¥æ¡†ä¸Šæ–¹çš„æ ‡ç­¾ */
        .input-label {
            font-size: 14px;
            color: #8b7d6b;                  /* æ¸©æš–çš„ç°æ£•è‰² */
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* è¾“å…¥æ¡†åŒ…è£¹å™¨ */
        .input-wrapper {
            position: relative;
        }

        /* è¾“å…¥æ¡†æ–‡å­—é•œåƒå±‚ï¼ˆç”¨äºæ¨¡ç³Šæ•ˆæœï¼‰ */
        .input-mirror {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            font-family: 'Courier New', monospace;
            font-size: 24px;
            font-weight: 600;
            padding: 18px; /* Match input padding */
            color: #3e3632;                  /* æš–é»‘è‰²æ–‡å­— */
            opacity: 0;
            z-index: 5;
        }
        
        /* é•œåƒå±‚å•ä¸ªå­—ç¬¦ */
        .input-mirror span {
            /* ä¿æŒä¸è¾“å…¥æ¡†ä¸€è‡´çš„é—´è·é€»è¾‘ */
            margin: 0 2px; /* æ¨¡æ‹Ÿ letter-spacing: 4px çš„ä¸€åŠå·¦å³ï¼Œæˆ–è€…ç›´æ¥ç”¨ flex gap */
            transition: filter 0.5s ease;
        }

        /* æ¨¡ç³Šæ¨¡å¼ä¸‹éšè—è¾“å…¥æ¡†æ–‡å­— */
        .input-wrapper.blur-mode #verification-input {
            color: transparent;
        }
        
        /* æ¨¡ç³Šæ¨¡å¼ä¸‹æ˜¾ç¤ºé•œåƒå±‚ */
        .input-wrapper.blur-mode .input-mirror {
            opacity: 1;
        }

        /* æ¨¡ç³Šæ¨¡å¼ä¸‹é•œåƒå±‚å­—ç¬¦æ¨¡ç³Š */
        .input-wrapper.blur-mode .input-mirror span {
            filter: blur(6px);
        }

        /* ========== éªŒè¯ç è¾“å…¥æ¡† ========== */
        /* éªŒè¯ç è¾“å…¥æ¡† */
        #verification-input {
            width: 100%;
            padding: 14px;
            font-size: 20px;
            font-weight: 600;
            letter-spacing: 3px;
            font-family: 'Courier New', monospace;
            background-color: #ffffff;
            border: 1px solid #f0ebe0;
            border-radius: 8px;
            color: #3e3632;
            text-align: center;
            outline: none;
            transition: border-color 0.3s;
            caret-color: #ff5757;
        }

        /* å…‰æ ‡é¢œè‰²æ”¯æŒæ£€æµ‹ */
        @supports (caret-color: red) {
            #verification-input {
                caret-color: #ff5757;
            }
        }

        /* ========== æäº¤æŒ‰é’® ========== */
        /* éªŒè¯æäº¤æŒ‰é’® */
        .submit-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #ffdd55 0%, #ffd86c 100%);
            color: #362e2a;                  /* æš–é»‘è‰²æ–‡å­— */
            border: 2px solid #fff1d8;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 12px;
            box-shadow: 0 4px 12px rgba(255, 217, 61, 0.3);
        }

        /* æäº¤æŒ‰é’®æ‚¬åœæ•ˆæœ */
        .submit-btn:hover {
            background: linear-gradient(135deg, #ffc829 0%, #ffb020 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 203, 61, 0.4);
        }

        /* æäº¤æŒ‰é’®ç¦ç”¨çŠ¶æ€ */
        .submit-btn:disabled {
            background-color: #e8dcc8;       /* æµ…ç±³é»„è‰²èƒŒæ™¯ï¼Œä¸å¤ªé»„ */
            color: #362e2a;                  /* æµ…ç°è‰²æ–‡å­— */
            cursor: not-allowed;
        }

        /* ========== æ€ç»´å…¥ä¾µå¼¹çª— ========== */
        /* æ€ç»´å…¥ä¾µå¼¹çª—å®¹å™¨ */
        .intrusion-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 400px;
            background-color: rgba(255, 255, 255, 0.98);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            z-index: 100;
            text-align: center;
            border: 1px solid #f5f0e8;
            display: none;
        }

        /* å¼¹çª—æ¿€æ´»çŠ¶æ€ */
        .intrusion-popup.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* å¼¹çª—å›¾æ ‡ */
        .intrusion-icon {
            font-size: 40px;
            color: #ffdc2f;                  /* æ›´äº®çš„çº¢è‰²å›¾æ ‡ */
            margin-bottom: 15px;
        }

        /* å¼¹çª—æ–‡å­— */
        .intrusion-text {
            font-size: 18px;
            color: #ffa54f;                  /* æ›´äº®çš„æ©™è‰²æ–‡å­— */
            margin-bottom: 20px;
            font-style: italic;
        }

        /* å…³é—­å¹²æ‰°æŒ‰é’® */
        .close-intrusion {
            padding: 10px 25px;
            background-color: #ffd93d;       /* æ›´äº®çš„é»„è‰²èƒŒæ™¯ */
            color: #3e3632;                  /* æš–é»‘è‰²æ–‡å­— */
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
        }

        /* ========== æ•°æ®åé¦ˆå¼¹çª— ========== */
        /* æ•°æ®åˆ†æå¼¹çª—é®ç½©å±‚ */
        .data-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);  /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
            backdrop-filter: blur(8px);
            z-index: 200;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 90px 20px 20px 20px;
            display: none;
        }

        /* å¼¹çª—æ¿€æ´»çŠ¶æ€ */
        .data-overlay.active {
            display: flex;
            animation: fadeIn 0.5s ease;
        }

        /* æ•°æ®åˆ†æå¡ç‰‡å®¹å™¨ */
        .data-container {
            background-color: #ffffff;
            border-radius: 16px;
            padding: 25px 30px;
            max-width: 750px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
            border: 1px solid #f5f0e8;

            /* æ–°å¢å…³é”®ä»£ç ï¼šé™åˆ¶æœ€å¤§é«˜åº¦å¹¶å…è®¸æ»šåŠ¨ */
            max-height: 85vh; /* æœ€å¤§é«˜åº¦ä¸è¶…è¿‡å±å¹•é«˜åº¦çš„ 85% */
            overflow-y: auto; /* å†…å®¹è¶…å‡ºæ—¶æ˜¾ç¤ºå‚ç›´æ»šåŠ¨æ¡ */
            position: relative; /* ç¡®ä¿å®šä½æ­£å¸¸ */
        }

        /* ç¾åŒ–æ»šåŠ¨æ¡ */
        .data-container::-webkit-scrollbar {
            width: 8px;
        }
        .data-container::-webkit-scrollbar-track {
            background: #fffbf0;
            border-radius: 4px;
        }
        .data-container::-webkit-scrollbar-thumb {
            background: #cbd5e1;             /* æµ…ç°è‰²æ»šåŠ¨æ¡æ»‘å— */
            border-radius: 4px;
        }
        .data-container::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;             /* æ·±ç°è‰²æ»šåŠ¨æ¡æ»‘å—æ‚¬åœ */
        }
        
        /* æ•°æ®åˆ†ææ ‡é¢˜ */
        .data-title {
            color: #ffd93d;
            font-size: 26px;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* æ•°æ®åˆ†æå‰¯æ ‡é¢˜ */
        .data-subtitle {
            color: #4a4435;
            font-size: 14px;
            margin-bottom: 18px;
        }

        /* ========== ç»Ÿè®¡æ•°æ®ç½‘æ ¼ ========== */
        /* ç»Ÿè®¡æ•°æ®ç½‘æ ¼å®¹å™¨ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 18px;
        }

        /* å•ä¸ªç»Ÿè®¡æ•°æ®æ¡† */
        .stat-box {
            background-color: #fffbf0;
            padding: 12px;
            border-radius: 10px;
            border-left: 3px solid #ffd93d;
        }

        /* ç»Ÿè®¡æ•°å€¼ï¼ˆå¤§æ•°å­—ï¼‰ */
        .stat-value {
            font-size: 22px;
            font-weight: 700;
            color: #ffb020;                  /* æ›´äº®çš„æ©™é»„è‰²æ•°å­— */
            margin-bottom: 3px;
        }

        /* ç»Ÿè®¡æ ‡ç­¾ï¼ˆå°æ–‡å­—ï¼‰ */
        .stat-label {
            font-size: 12px;
            color: #4a4435;
        }

        /* ========== å¯¹æ¯”è§£æåŒºåŸŸ ========== */
        /* æ™®é€šäºº vs ADHD å¯¹æ¯”åŒºåŸŸ */
        .comparison {
            background-color: #fffbf0;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        /* å¯¹æ¯”åŒºåŸŸæ ‡é¢˜ */
        .comparison h3 {
            color: #4a4435;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* å¯¹æ¯”é¡¹ç›® */
        .comparison-item {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f5f0e8;
        }

        /* æœ€åä¸€ä¸ªå¯¹æ¯”é¡¹ç›®ï¼ˆå»é™¤åº•éƒ¨è¾¹æ¡†ï¼‰ */
        .comparison-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        /* å¯¹æ¯”é¡¹æ ‡é¢˜ */
        .comparison-title {
            font-weight: 600;
            color: #ffd93d;                  /* æ›´äº®çš„é»„è‰²æ ‡é¢˜ */
            margin-bottom: 3px;
        }

        /* å¯¹æ¯”é¡¹æè¿° */
        .comparison-desc {
            color: #4a4435;
            font-size: 14px;
        }

        /* ========== ç»“è®ºåŒºåŸŸ ========== */
        /* ç»“è®ºåŒºåŸŸ */
        .conclusion {
            background-color: rgba(255, 217, 61, 0.15);
            padding: 12px 15px;
            border-radius: 10px;
            border-left: 3px solid #ffd93d;
            margin-top: 12px;
        }

        /* ç»“è®ºæ–‡å­— */
        .conclusion p {
            color: #ffb020;
            font-size: 15px;
            font-weight: 600;
        }

        /* ========== æŒ‰é’®ç»„ ========== */
        /* å¼¹çª—åº•éƒ¨æŒ‰é’®ç»„ */
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        /* é‡æ–°ä½“éªŒæŒ‰é’® */
        .close-data {
            flex: 1;
            padding: 15px 40px;
            background-color: #fff6d0;
            color: #5a513b;
            border: none;
            border-radius: 35px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        /* é‡æ–°ä½“éªŒæŒ‰é’®æ‚¬åœæ•ˆæœ */
        .close-data:hover {
            background-color: #fdf0cb;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 246, 208, 0.5);
        }

        /* æŸ¥çœ‹ç§‘æ™®æŒ‰é’® */
        .go-home {
            flex: 1;
            padding: 15px 40px;
            background-color: #ffd93d;
            color: white;
            border: none;
            border-radius: 35px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        /* æŸ¥çœ‹ç§‘æ™®æŒ‰é’®æ‚¬åœæ•ˆæœ */
        .go-home:hover {
            background-color: #ffc829;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 201, 41, 0.3);
        }

        /* ========== åº•éƒ¨æ³¨é‡Š ========== */
        /* é¡µé¢åº•éƒ¨çš„ç§‘æ™®æ³¨é‡Š */
        .footer-note {
            text-align: center;
            color: #8b7d6b;
            font-size: 13px;
            margin-top: 12px;
            padding-top: 10px;
            border-top: 1px solid #f5f0e8;
        }

        /* ========== è®¡æ•°å™¨ ========== */
        /* å³ä¸Šè§’çš„å°è¯•æ¬¡æ•°è®¡æ•°å™¨ */
        .counter {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #fffbf0;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            color: #8b7d6b;
            border: 1px solid #f5f0e8;
        }



        /* ========== åŠ¨ç”»æ•ˆæœ ========== */
        /* æ·¡å…¥åŠ¨ç”» */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* æŠ–åŠ¨åŠ¨ç”» */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        /* æŠ–åŠ¨æ•ˆæœç±» */
        .shake {
            animation: shake 0.5s ease;
        }

        /* ========== å“åº”å¼è®¾è®¡ ========== */
        /* ç§»åŠ¨ç«¯é€‚é…ï¼ˆ768pxä»¥ä¸‹ï¼‰ */
        @media (max-width: 768px) {
            /* å®¹å™¨å†…è¾¹è· */
            .container {
                padding: 20px;
            }
            
            /* éªŒè¯ç å­—ä½“å’Œé—´è· */
            .verification-code {
                font-size: 20px;
                gap: 8px;
            }
            
            /* è¾“å…¥æ¡†å­—ä½“å’Œå†…è¾¹è· */
            #verification-input {
                font-size: 16px;
                padding: 12px;
                letter-spacing: 1px;
            }

            /* è¾“å…¥é•œåƒå±‚å­—ä½“ */
            .input-mirror {
                font-size: 16px;
                padding: 12px;
            }
            
            /* é•œåƒå±‚å­—ç¬¦é—´è· */
            .input-mirror span {
                margin: 0 1px;
            }
            
            /* ç»Ÿè®¡æ•°æ®ç½‘æ ¼æ”¹ä¸º2åˆ— */
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- å¤´éƒ¨å¯¼èˆª -->
    <div class="navbar">
        <div class="nav-container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <div>
                    <div class="logo-text">è®¤çŸ¥ä¹‹çª—</div>
                    <div class="logo-subtitle">ADHDç§‘æ™®ä½“éªŒå¹³å°</div>
                </div>
            </div>
            <a href="index.html" class="cta-button">
                <i class="fas fa-home"></i> è¿”å›é¦–é¡µ
            </a>
        </div>
    </div>

    <div class="container">
        <header>
            <h1><i class="fas fa-brain"></i> ADHDè®¤çŸ¥æ¨¡æ‹Ÿä½“éªŒ</h1>
            <p class="subtitle">æ¨¡æ‹ŸADHDæ‚£è€…åœ¨"æ‰¾å›å¯†ç "éªŒè¯ç¯èŠ‚ä¸­çš„è®¤çŸ¥æŒ‘æˆ˜</p>
        </header>

        <div class="task-instruction">
            <h3><i class="fas fa-tasks"></i> ä»»åŠ¡è¯´æ˜</h3>
            <p>è¯·å°†ä¸Šæ–¹æ˜¾ç¤ºçš„16ä½éªŒè¯ç å‡†ç¡®è¾“å…¥åˆ°ä¸‹æ–¹çš„è¾“å…¥æ¡†ä¸­ã€‚æ³¨æ„ï¼šåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ‚¨å°†ä½“éªŒåˆ°ADHDæ‚£è€…çš„è®¤çŸ¥å¤„ç†æ–¹å¼ã€‚</p>
        </div>

        <div class="counter">
            å°è¯•æ¬¡æ•°: <span id="attempt-count">0</span> | é‡ç½®æ¬¡æ•°: <span id="reset-count">0</span>
        </div>

        <div class="simulation-area">
            <div class="verification-code-area" id="code-area">
                <div class="verification-code-label">
                    <i class="fas fa-eye"></i> éªŒè¯ç  (é¼ æ ‡æ‚¬åœä¸Šæ–¹åŒºåŸŸæŸ¥çœ‹ï¼Œç‚¹å‡»ä¸‹æ–¹åŒºåŸŸè¾“å…¥)
                </div>
                <div class="verification-code" id="verification-code">8 5 1 3 9 2 7 4 6 0 1 2 3 4 5 6</div>
                <!-- ç§»é™¤é®ç½©ï¼Œæ”¹ç”¨å­—ç¬¦æ¨¡ç³Š -->
            </div>

            <div class="input-area" id="input-area">
                <div class="input-label">
                    <i class="fas fa-keyboard"></i> è¾“å…¥éªŒè¯ç 
                </div>
                <div class="input-wrapper" id="input-wrapper-div">
                    <input type="text" id="verification-input" maxlength="16" placeholder="åœ¨æ­¤è¾“å…¥16ä½éªŒè¯ç ">
                    <div id="input-mirror" class="input-mirror"></div>
                </div>
                <div class="blur-overlay" id="input-blur">
                    <div>
                        <i class="fas fa-ban"></i>æŸ¥çœ‹éªŒè¯ç æ—¶æ— æ³•è¾“å…¥
                    </div>
                </div>
                <button class="submit-btn" id="submit-btn" disabled>æäº¤éªŒè¯</button>
            </div>
        </div>

        
    </div>



    <!-- æ€ç»´å…¥ä¾µå¼¹çª— -->
    <div class="intrusion-popup" id="intrusion-popup">
        <div class="intrusion-icon">
            <i class="fas fa-question-circle"></i>
        </div>
        <div class="intrusion-text" id="intrusion-text">åˆšæ‰é—¨é”äº†å—ï¼Ÿ</div>
        <button class="close-intrusion" id="close-intrusion">å…³é—­å¹²æ‰°</button>
    </div>

    <!-- æ•°æ®åé¦ˆå¼¹çª— -->
    <div class="data-overlay" id="data-overlay">
        <div class="data-container">
            <h2 class="data-title"><i class="fas fa-chart-bar"></i> ä»»åŠ¡å®Œæˆåˆ†æ</h2>
            <p class="data-subtitle">æ‚¨æˆåŠŸè¾“å…¥äº†éªŒè¯ç ï¼Œä½†è¿‡ç¨‹å¼‚å¸¸è‰°éš¾</p>
            
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-value" id="time-consumed">0 ç§’</div>
                    <div class="stat-label">ç‰©ç†æ—¶é—´æ¶ˆè€—</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="avg-time-per-char">0 ç§’</div>
                    <div class="stat-label">å¹³å‡æ¯å­—ç¬¦è€—æ—¶</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="eye-switches">0 æ¬¡</div>
                    <div class="stat-label">è§†çº¿åˆ‡æ¢æ¬¡æ•°</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="memory-resets">0 æ¬¡</div>
                    <div class="stat-label">è®°å¿†é‡ç½®æ¬¡æ•°</div>
                </div>
            </div>

            <div class="comparison">
                <h3><i class="fas fa-balance-scale"></i> å¯¹æ¯”è§£æ</h3>
                
                <div class="comparison-item">
                    <div class="comparison-title">æ™®é€šäººï¼ˆå¹¶è¡Œå¤„ç†ï¼‰</div>
                    <div class="comparison-desc">æ‹¥æœ‰"åå°ç¼“å­˜"ã€‚ä»–ä»¬çœ‹ä¸€çœ¼èƒ½è®°ä½4ä¸ªå­—ç¬¦ï¼ˆç»„å—ï¼‰ï¼Œåœ¨è¾“å…¥ç¬¬1ä¸ªå­—æ—¶ï¼Œç¬¬2ã€3ã€4ä¸ªå­—è¢«å®‰å…¨åœ°æŒ‚èµ·åœ¨è„‘æµ·ä¸­ï¼Œä¸ä¼šä¸¢å¤±ã€‚</div>
                </div>
                
                <div class="comparison-item">
                    <div class="comparison-title">ADHDï¼ˆä¸²è¡Œå¤„ç†ï¼‰</div>
                    <div class="comparison-desc">ç¼ºä¹"åå°ç¼“å­˜"ã€‚æ‚¨çš„å¤§è„‘æ— æ³•åœ¨"è¾“å…¥åŠ¨ä½œ"çš„åŒæ—¶"ç»´æŒè®°å¿†"ã€‚ä¸€æ—¦å¼€å§‹æ‰“å­—ï¼Œæœªè¾“å…¥çš„å­—ç¬¦å°±ä¼šä»è„‘æµ·ä¸­ç›´æ¥æ¶ˆå¤±ï¼Œå¯¼è‡´æ‚¨å¿…é¡»åå¤ç¡®è®¤ï¼Œçœ‹ä¸€ä¸ªè¾“ä¸€ä¸ªã€‚</div>
                </div>
            </div>

            <div class="conclusion">
                <p><i class="fas fa-tint"></i> ç³»ç»Ÿåˆ¤å®šï¼šæ‚¨ä¸ºäº†å®Œæˆè¿™ä¸ªç®€å•çš„"3ç§’ä»»åŠ¡"ï¼Œæ¶ˆè€—äº†æ™®é€šäºº8å€çš„ç²¾åŠ›ã€‚è¿™å°±æ˜¯ADHDæ‚£è€…å¤§è„‘çš„"é«˜èƒ½è€—ã€ä½äº§å‡º"æ—¥å¸¸ã€‚</p>
            </div>

            <div class="button-group">
                <button class="go-home" id="go-home"><i class="fas fa-book"></i> æŸ¥çœ‹ç§‘æ™®</button>
                <button class="close-data" id="close-data"><i class="fas fa-redo"></i> é‡æ–°ä½“éªŒ</button>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let startTime;
        let eyeSwitchCount = 0;
        let memoryResetCount = 0;
        let attemptCount = 0;
        // let decayTimeout; // Removed
        // let inputDecayTimeout; // Removed
        let isInputFocused = false;
        let isCodeHovered = false;
        let lastInputTime = Date.now();
        // let decayStartTime = 0; // Removed
        let inputProgress = 0;
        let isIntrusionTriggered = false;
        let verificationCode = generateRandomCode();
        
        // æ‰‹ç”µç­’æ¨¡å¼å˜é‡
        let lastMouseX = 0;
        let lastMouseY = 0;
        let lastMouseTime = 0;
        let spanPositions = [];
        let seenIndices = new Set();
        let isViewLocked = false;
        let lockTimeout;
        let hoverStopTimer;
        let isFocusLost = false;
        let hasShownOverloadMessage = false;
        let hasIntrusionHappened = false;
        
        // å¹²æ‰°æƒ³æ³•åˆ—è¡¨
        const intrusionThoughts = [
            "åˆšæ‰é—¨é”äº†å—ï¼Ÿ",
            "æ˜å¤©è¦äº¤çš„æŠ¥å‘Šå†™å®Œäº†å—ï¼Ÿ",
            "å¥½åƒæœ‰äººç»™æˆ‘å‘æ¶ˆæ¯äº†ï¼Ÿ",
            "æˆ‘ä¸­åˆåƒä»€ä¹ˆï¼Ÿ",
            "ä»Šå¤©çš„ä¼šè®®æ˜¯å‡ ç‚¹ï¼Ÿ",
            "çª—æˆ·å…³äº†å—ï¼Ÿ",
            "æˆ‘æ˜¯ä¸æ˜¯å¿˜äº†ä»€ä¹ˆäº‹ï¼Ÿ",
            "æ‰‹æœºå……ç”µå™¨å¸¦äº†å—ï¼Ÿ"
        ];
        
        // DOM å…ƒç´ 
        const codeArea = document.getElementById('code-area');
        const inputArea = document.getElementById('input-area');
        // const codeBlur = document.getElementById('code-blur'); // Removed
        const inputBlur = document.getElementById('input-blur');
        const verificationInput = document.getElementById('verification-input');
        const inputWrapperDiv = document.getElementById('input-wrapper-div');
        const inputMirror = document.getElementById('input-mirror');
        const submitBtn = document.getElementById('submit-btn');
        const verificationCodeElement = document.getElementById('verification-code');
        const intrusionPopup = document.getElementById('intrusion-popup');
        const intrusionText = document.getElementById('intrusion-text');
        const closeIntrusionBtn = document.getElementById('close-intrusion');
        const dataOverlay = document.getElementById('data-overlay');
        const closeDataBtn = document.getElementById('close-data');
        const goHomeBtn = document.getElementById('go-home');
        const timeConsumedElement = document.getElementById('time-consumed');
        const avgTimePerCharElement = document.getElementById('avg-time-per-char');
        const eyeSwitchesElement = document.getElementById('eye-switches');
        const memoryResetsElement = document.getElementById('memory-resets');
        const attemptCountElement = document.getElementById('attempt-count');
        const resetCountElement = document.getElementById('reset-count');
        const mutualExclusionIndicator = document.getElementById('mutual-exclusion-indicator');
        const timeDecayIndicator = document.getElementById('time-decay-indicator');
        const intrusionIndicator = document.getElementById('intrusion-indicator');

        // åˆå§‹åŒ–
        function init() {
            startTime = Date.now();
            verificationCodeElement.innerHTML = formatCode(verificationCode);
            // åˆå§‹çŠ¶æ€ä¿æŒæ¸…æ™°ï¼Œç»™ç”¨æˆ·â€œå¹³é™çš„å‡è±¡â€
            // verificationCodeElement.classList.add('blurred'); 
            
            // äº‹ä»¶ç›‘å¬å™¨
            verificationInput.addEventListener('focus', handleInputFocus);
            verificationInput.addEventListener('blur', handleInputBlur);
            verificationInput.addEventListener('input', handleInput);
            
            codeArea.addEventListener('mouseenter', handleCodeMouseEnter);
            codeArea.addEventListener('mouseleave', handleCodeMouseLeave);
            
            inputArea.addEventListener('mouseenter', handleInputMouseEnter);
            inputArea.addEventListener('mouseleave', handleInputMouseLeave);
            
            submitBtn.addEventListener('click', handleSubmit);
            closeIntrusionBtn.addEventListener('click', closeIntrusion);
            closeDataBtn.addEventListener('click', closeDataOverlay);
            goHomeBtn.addEventListener('click', goToHome);
            
            // åˆå§‹çŠ¶æ€
            updateIndicators();
        }
        
        // ç”ŸæˆéšæœºéªŒè¯ç 
        function generateRandomCode() {
            let code = '';
            for (let i = 0; i < 16; i++) { 
                code += Math.floor(Math.random() * 10).toString();
            }
            return code;
        }
        
        // æ ¼å¼åŒ–éªŒè¯ç æ˜¾ç¤º
        function formatCode(code) {
            return code.split('').map(char => `<span>${char}</span>`).join('');
        }
        
        // å¤„ç†è¾“å…¥æ¡†è·å–ç„¦ç‚¹
        function handleInputFocus() {
            isInputFocused = true;
            inputWrapperDiv.classList.remove('blur-mode'); // è·å¾—ç„¦ç‚¹ï¼ˆç‚¹å‡»ï¼‰æ—¶æ¢å¤æ¸…æ™°
            verificationCodeElement.classList.add('blurred');
            if (mutualExclusionIndicator) mutualExclusionIndicator.classList.add('active');
            eyeSwitchCount++;
            updateCounters();
            updateIndicators();
        }
        
        // å¤„ç†è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹
        function handleInputBlur() {
            isInputFocused = false;
            if (mutualExclusionIndicator) mutualExclusionIndicator.classList.remove('active');
            updateIndicators();
        }
        
        // å¤„ç†è¾“å…¥æ¡†è¾“å…¥
        function handleInput() {
            const currentTime = Date.now();
            lastInputTime = currentTime;

            // Update mirror
            updateInputMirror();

            // ç§»é™¤æ—§çš„è…èš€é€»è¾‘
            /*
            // æ¸…é™¤ä¹‹å‰çš„è…èš€è®¡æ—¶å™¨
            if (inputDecayTimeout) {
                clearTimeout(inputDecayTimeout);
            }
            // ... (Removed decay logic)
            */

            // å¯ç”¨/ç¦ç”¨æäº¤æŒ‰é’®
            submitBtn.disabled = verificationInput.value.length !== 16;

            updateIndicators();
            
            // æ£€æµ‹è¾“å…¥åˆ°ç¬¬8ä¸ªå­—ç¬¦æ—¶è§¦å‘å¼¹çª—ï¼ˆä»…è§¦å‘ä¸€æ¬¡ï¼‰
            if (verificationInput.value.length === 8 && !hasIntrusionHappened) {
                hasIntrusionHappened = true;
                triggerIntrusion();
            }
        }

        function updateInputMirror() {
            const text = verificationInput.value;
            // ä¿æŒä¸€è‡´çš„é—´è·ï¼Œä½¿ç”¨ span
            inputMirror.innerHTML = text.split('').map(char => `<span>${char === ' ' ? '&nbsp;' : char}</span>`).join('');
        }
        
        // è§¦å‘æ€ç»´å…¥ä¾µ
        function triggerIntrusion() {
            const randomThought = intrusionThoughts[Math.floor(Math.random() * intrusionThoughts.length)];
            intrusionText.textContent = randomThought;
            intrusionPopup.classList.add('active');
            if (intrusionIndicator) intrusionIndicator.classList.add('active');
            isIntrusionTriggered = true;
            
            // å¼¹çª—å‡ºç°æ—¶ç«‹å³æ¸…ç©ºè¾“å…¥
            verificationInput.value = '';
            updateInputMirror();
            memoryResetCount++;
            updateCounters();
            
            showTemporaryMessage("æ€ç»´å…¥ä¾µå¯¼è‡´è®°å¿†æ¸…é›¶", "error");
        }
        
        // å…³é—­æ€ç»´å…¥ä¾µå¼¹çª—
        function closeIntrusion() {
            intrusionPopup.classList.remove('active');
            isIntrusionTriggered = false;
            if (intrusionIndicator) intrusionIndicator.classList.remove('active');
        }
        
        // å¤„ç†éªŒè¯ç åŒºåŸŸé¼ æ ‡è¿›å…¥
        function handleCodeMouseEnter(e) {
            // å¦‚æœå¤„äºè¿‡è½½é”å®šçŠ¶æ€ï¼Œç¦æ­¢å¯ç”¨æ‰‹ç”µç­’
            if (isViewLocked) return;

            isCodeHovered = true;
            isFocusLost = false; // é‡ç½®å¤±æ•ˆçŠ¶æ€
            seenIndices.clear(); // é‡ç½®å·²çœ‹è¿‡çš„å­—ç¬¦é›†åˆ
            
            // é¼ æ ‡æ‚¬åœæ—¶ï¼Œå¼ºåˆ¶è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹
            verificationInput.blur();

            // ç§»é™¤é»˜è®¤æ¨¡ç³Šç±»ï¼Œæ·»åŠ æ‰‹ç”µç­’æ¨¡å¼ç±»
            verificationCodeElement.classList.remove('blurred');
            verificationCodeElement.classList.add('flashlight-mode');

            // ä¸ºäº†ä¿æŒäº’æ–¥è§†é‡çš„æ¨¡æ‹Ÿä½“éªŒï¼Œçœ‹éªŒè¯ç æ—¶ï¼Œè¾“å…¥æ¡†åº”è¯¥å˜æ¨¡ç³Š
            // inputBlur.classList.add('active'); // ç§»é™¤æ—§çš„è¦†ç›–å±‚æ¨¡ç³Š
            inputWrapperDiv.classList.add('blur-mode'); // å¯ç”¨æ–°çš„è¾“å…¥æ¡†å­—ç¬¦æ¨¡ç³Šæ¨¡å¼

            // ç¼“å­˜æ‰€æœ‰å­—ç¬¦çš„ä½ç½®ä¿¡æ¯ï¼Œå‡å°‘mousemoveæ—¶çš„è®¡ç®—é‡
            updateSpanPositions();

            // è®°å½•åˆå§‹é¼ æ ‡ä½ç½®å’Œæ—¶é—´
            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
            lastMouseTime = Date.now();

            // åˆå§‹å¯åŠ¨é™æ­¢æ£€æµ‹ï¼ˆå¦‚æœåˆšè¿›å»å°±ä¸åŠ¨ï¼‰
            resetHoverDescayTimer();

            // æ·»åŠ é¼ æ ‡ç§»åŠ¨ç›‘å¬
            codeArea.addEventListener('mousemove', handleCodeMouseMove);
            
            // ç«‹å³æ‰§è¡Œä¸€æ¬¡ç”±äºè¿›å…¥å¯èƒ½æ²¡æœ‰è§¦å‘ move
            handleCodeMouseMove(e);
        }

        // æ›´æ–°å­—ç¬¦ä½ç½®ç¼“å­˜
        function updateSpanPositions() {
            const spans = verificationCodeElement.querySelectorAll('span');
            spanPositions = Array.from(spans).map(span => {
                const rect = span.getBoundingClientRect();
                return {
                    element: span,
                    centerX: rect.left + rect.width / 2,
                    centerY: rect.top + rect.height / 2,
                    width: rect.width
                };
            });
        }

        // å¤„ç†æ‰‹ç”µç­’æ•ˆæœ (å·²ç§»é™¤è¿åŠ¨æ¨¡ç³Š)
        function handleCodeMouseMove(e) {
            // å®‰å…¨æ£€æŸ¥
            if (isViewLocked || isFocusLost) return;
            
            // é‡ç½®é™æ­¢æ£€æµ‹
            resetHoverDescayTimer();

            // åº”ç”¨å…‰åœˆæ•ˆæœ
            spanPositions.forEach((pos, index) => {
                // è®¡ç®—é¼ æ ‡åˆ°å­—ç¬¦ä¸­å¿ƒçš„æ°´å¹³è·ç¦»ï¼ˆåªè€ƒè™‘Xè½´ï¼Œç¬¦åˆé˜…è¯»ä¹ æƒ¯ï¼‰
                const distX = Math.abs(e.clientX - pos.centerX);
                const distY = Math.abs(e.clientY - pos.centerY);
                
                // è°ƒæ•´å…‰åœˆå‚æ•°ä»¥é€‚åº”æ›´å¤§çš„å­—ç¬¦é—´è·
                // å¢å¤§æ¸…æ™°åŠå¾„ï¼Œè®©ä¸­å¿ƒå­—ç¬¦æ›´å®¹æ˜“çœ‹æ¸…
                const clearRadius = pos.width * 1.2; 
                // å¤§å¹…å¢åŠ æ¸å˜åŠå¾„ï¼Œè®©æ—è¾¹ä¸¤ä¸ªå­—ç¬¦èƒ½çœ‹æ¸…ä¸€åŠ
                const fadeRadius = pos.width * 4.5; 

                let blurAmount = 10; // é»˜è®¤èƒŒæ™¯æ¨¡ç³Š

                // åªæœ‰åœ¨å‚ç›´èŒƒå›´å†…æ‰åº”ç”¨æ‰‹ç”µç­’
                if (distY < 100) { 
                    if (distX < clearRadius) {
                        blurAmount = 0;
                        // æ ‡è®°è¯¥å­—ç¬¦å·²æŸ¥çœ‹
                        seenIndices.add(index);
                    } else if (distX < fadeRadius) {
                        // çº¿æ€§æ¸å˜ï¼šä» clearRadius å¤„çš„ 0 åˆ° fadeRadius å¤„çš„ 8
                        const ratio = (distX - clearRadius) / (fadeRadius - clearRadius);
                        blurAmount = ratio * 10;
                    }
                }

                pos.element.style.filter = `blur(${blurAmount}px)`;
            });

            // æ£€æŸ¥è®¤çŸ¥è¿‡è½½
            if (seenIndices.size > 3) {
                triggerCognitiveOverload();
            }
        }

        // è§¦å‘è®¤çŸ¥è¿‡è½½é”å®š
        function triggerCognitiveOverload() {
            isViewLocked = true;
            
            // ç«‹å³å¼ºåˆ¶ç»“æŸæœ¬æ¬¡æŸ¥çœ‹ session
            handleCodeMouseLeave();
            
            // æ˜¾ç¤ºè­¦å‘Š
            if (!hasShownOverloadMessage) {
                showTemporaryMessage("çŸ­æœŸè®°å¿†å®¹é‡å·²æ»¡ï¼(ç­‰å¾…1sæˆ–ç‚¹å‡»è¾“å…¥æ¡†åå¯é‡æ–°æŸ¥çœ‹éªŒè¯ç )", "error");
                hasShownOverloadMessage = true;
            }
            
            // 3ç§’åè§£é”
            if (lockTimeout) clearTimeout(lockTimeout);
            lockTimeout = setTimeout(() => {
                isViewLocked = false;
                //showTemporaryMessage("è®¤çŸ¥è´Ÿè·å·²æ¢å¤ï¼Œå¯ç»§ç»­æŸ¥çœ‹", "info");
            }, 1000); // 1ç§’å†·å´
        }

        // æ–°å¢ resetHoverDescayTimerï¼šæ‚¬åœå¯çœ‹æ—¶é—´
        function resetHoverDescayTimer() {
            if (hoverStopTimer) clearTimeout(hoverStopTimer);
            hoverStopTimer = setTimeout(triggerFocusLoss, 500); // 0.5s
        }

        // æ–°å¢ triggerFocusLoss
        function triggerFocusLoss() {
            isFocusLost = true;
            
            // å¼ºåˆ¶æ¨¡ç³Š
            verificationCodeElement.classList.remove('flashlight-mode');
            verificationCodeElement.classList.add('blurred');
            // æ¸…é™¤å†…è”æ ·å¼
            const spans = verificationCodeElement.querySelectorAll('span');
            spans.forEach(span => {
                span.style.filter = '';
            });
        }

        // å¤„ç†éªŒè¯ç åŒºåŸŸé¼ æ ‡ç¦»å¼€
        function handleCodeMouseLeave() {
            isCodeHovered = false;
            // inputBlur.classList.remove('active'); 
            // inputWrapperDiv.classList.remove('blur-mode'); // Removed: è¾“å…¥æ¡†ç°åœ¨åªåœ¨ç‚¹å‡»æ—¶æ¢å¤æ¸…æ™°ï¼Œè€Œä¸æ˜¯ç¦»å¼€éªŒè¯ç åŒºåŸŸæ—¶
            
            if (hoverStopTimer) clearTimeout(hoverStopTimer);
            isFocusLost = false;

            // ç§»é™¤ç›‘å¬å™¨
            codeArea.removeEventListener('mousemove', handleCodeMouseMove);

            // æ¸…é™¤æ‰‹ç”µç­’æ¨¡å¼ï¼Œæ¢å¤é»˜è®¤æ¨¡ç³Š
            verificationCodeElement.classList.remove('flashlight-mode');
            verificationCodeElement.classList.add('blurred');
            
            // æ¸…é™¤æ‰€æœ‰å†…è”æ ·å¼ï¼Œè®© CSS ç±»æ¥ç®¡
            const spans = verificationCodeElement.querySelectorAll('span');
            spans.forEach(span => {
                span.style.filter = '';
            });
        }
        
        // å¤„ç†è¾“å…¥åŒºåŸŸé¼ æ ‡è¿›å…¥
        function handleInputMouseEnter() {
            // å¦‚æœæ­£åœ¨æŸ¥çœ‹éªŒè¯ç ï¼Œåˆ™ä¸éœ€è¦åšä»»ä½•äº‹
        }
        
        // å¤„ç†è¾“å…¥åŒºåŸŸé¼ æ ‡ç¦»å¼€
        function handleInputMouseLeave() {
            // å¦‚æœæ­£åœ¨æŸ¥çœ‹éªŒè¯ç ï¼Œåˆ™ä¸éœ€è¦åšä»»ä½•äº‹
        }
        
        // å¤„ç†æäº¤
        function handleSubmit() {
            const inputValue = verificationInput.value.replace(/\s/g, '');
            
            if (inputValue === verificationCode) {
                // è®¡ç®—ç»Ÿè®¡æ•°æ®
                const timeElapsed = Math.floor((Date.now() - startTime) / 1000);
                const avgTimePerChar = (timeElapsed / 16).toFixed(1);
                
                // æ›´æ–°æ•°æ®å±•ç¤º
                timeConsumedElement.textContent = `${timeElapsed} ç§’`;
                avgTimePerCharElement.textContent = `${avgTimePerChar} ç§’`;
                eyeSwitchesElement.textContent = `${eyeSwitchCount} æ¬¡`;
                memoryResetsElement.textContent = `${memoryResetCount} æ¬¡`;
                
                // æ˜¾ç¤ºæ•°æ®å¼¹çª—
                setTimeout(() => {
                    dataOverlay.classList.add('active');
                }, 500);
                
                // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
                showTemporaryMessage("éªŒè¯æˆåŠŸï¼æ­£åœ¨ç”Ÿæˆåˆ†ææŠ¥å‘Š...", "success");
            } else {
                attemptCount++;
                updateCounters();
                
                // æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
                showTemporaryMessage("éªŒè¯ç é”™è¯¯ï¼Œè¯·é‡æ–°å°è¯•", "error");
                
                // æ¸…ç©ºè¾“å…¥æ¡†
                verificationInput.value = '';
                updateInputMirror();  // åŒæ­¥æ¸…ç©ºé•œåƒå±‚
                submitBtn.disabled = true;
                
                // æŠ–åŠ¨æ•ˆæœ
                verificationInput.classList.add('shake');
                setTimeout(() => {
                    verificationInput.classList.remove('shake');
                }, 500);
            }
        }
        
        // æŸ¥çœ‹ç§‘æ™®
        function goToHome() {
            window.location.href = 'kepu_1.html#wml';
        }
        
        // å…³é—­æ•°æ®å¼¹çª—
        function closeDataOverlay() {
            dataOverlay.classList.remove('active');
            
            // é‡ç½®æ¨¡æ‹Ÿ
            setTimeout(() => {
                resetSimulation();
            }, 500);
        }
        
        // é‡ç½®æ¨¡æ‹Ÿ
        function resetSimulation() {
            verificationCode = generateRandomCode();
            verificationCodeElement.innerHTML = formatCode(verificationCode);
            // é‡ç½®æ—¶æ¢å¤æ¸…æ™°çŠ¶æ€ï¼Œé‡æ–°å»ºç«‹â€œå¹³é™å‡è±¡â€
            verificationCodeElement.classList.remove('blurred');
            verificationInput.value = '';
            
            // é‡è¦ï¼šä¸€å®šè¦é‡ç½®é•œåƒï¼Œå¦åˆ™ä¼šæ®‹ç•™ä¹‹å‰çš„æ–‡å­—
            updateInputMirror();

            submitBtn.disabled = true;
            isIntrusionTriggered = false;
            hasIntrusionHappened = false;
            
            // é‡ç½®è®¡æ—¶å™¨ (Decay logic removed)
            // if (decayTimeout) clearInterval(decayTimeout);
            // if (inputDecayTimeout) clearTimeout(inputDecayTimeout);
            
            // é‡ç½®æ ·å¼
            // verificationInput.classList.remove('decaying');
            // verificationInput.style.opacity = 1;
            
            // æ›´æ–°æŒ‡ç¤ºå™¨
            updateIndicators();
            
            // æ˜¾ç¤ºé‡ç½®æ¶ˆæ¯
            showTemporaryMessage("æ¨¡æ‹Ÿå·²é‡ç½®ï¼Œè¯·å†æ¬¡å°è¯•", "info");
        }
        
        // æ›´æ–°è®¡æ•°å™¨æ˜¾ç¤º
        function updateCounters() {
            attemptCountElement.textContent = attemptCount;
            resetCountElement.textContent = memoryResetCount;
        }
        
        // æ›´æ–°æŒ‡ç¤ºå™¨çŠ¶æ€
        function updateIndicators() {
            // äº’æ–¥è§†é‡æŒ‡ç¤ºå™¨
            if (mutualExclusionIndicator) {
                if (isInputFocused) {
                    mutualExclusionIndicator.classList.add('active');
                } else {
                    mutualExclusionIndicator.classList.remove('active');
                }
            }
            
            // æ—¶é—´è…èš€æŒ‡ç¤ºå™¨
            if (timeDecayIndicator) {
                timeDecayIndicator.classList.remove('active');
            }
            
            // æ€ç»´å…¥ä¾µæŒ‡ç¤ºå™¨
            if (intrusionIndicator) {
                if (isIntrusionTriggered) {
                    intrusionIndicator.classList.add('active');
                } else {
                    intrusionIndicator.classList.remove('active');
                }
            }
        }
        
        // æ˜¾ç¤ºä¸´æ—¶æ¶ˆæ¯
        function showTemporaryMessage(message, type) {
            // åˆ›å»ºæ¶ˆæ¯å…ƒç´ 
            const messageElement = document.createElement('div');
            messageElement.textContent = message;
            messageElement.style.position = 'fixed';
            messageElement.style.bottom = '30px';
            messageElement.style.left = '50%';
            messageElement.style.transform = 'translateX(-50%)';
            messageElement.style.padding = '12px 24px';
            messageElement.style.borderRadius = '8px';
            messageElement.style.zIndex = '1000';
            messageElement.style.fontWeight = '600';
            messageElement.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.15)';
            
            // æ ¹æ®ç±»å‹è®¾ç½®æ ·å¼
            if (type === 'error') {
                messageElement.style.backgroundColor = '#ff9f40';  // æ©™è‰²èƒŒæ™¯ - é”™è¯¯
                messageElement.style.color = '#ffffff';            // ç™½è‰²æ–‡å­—
            } else if (type === 'success') {
                messageElement.style.backgroundColor = '#22c55e';  // æ›´äº®çš„ç»¿è‰²èƒŒæ™¯ - æˆåŠŸ
                messageElement.style.color = '#f0fdf4';            // æµ…ç»¿è‰²æ–‡å­—
            } else {
                messageElement.style.backgroundColor = '#ffd93d';  // æ›´äº®çš„é»„è‰²èƒŒæ™¯ - ä¿¡æ¯
                messageElement.style.color = '#3e3632';            // æš–é»‘è‰²æ–‡å­—
            }
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(messageElement);
            
            // 3ç§’åç§»é™¤
            setTimeout(() => {
                messageElement.style.opacity = '0';
                messageElement.style.transition = 'opacity 0.5s ease';
                setTimeout(() => {
                    document.body.removeChild(messageElement);
                }, 500);
            }, 3000);
        }
        
        // åˆå§‹åŒ–æ¨¡æ‹Ÿ
        init();
        
        // æ˜¾ç¤ºåˆå§‹è¯´æ˜
        setTimeout(() => {
            showTemporaryMessage("å°è¯•è¾“å…¥éªŒè¯ç ï¼Œä½“éªŒADHDçš„è®¤çŸ¥æŒ‘æˆ˜", "info");
        }, 1000);
    </script>
</body>
</html>